using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApp15
{
    internal class Program
    {
        static void Main(string[] args)
        {
            const int CommandAddDossier = 1;
            const int CommandDossierOutput = 2;
            const int CommandRemoveDossier = 3;
            const int CommandSearchForSurname = 4;
            const int CommandExit = 5;
            string[] arraFullNames = { "Андреев Андрей Андреевич", "Никитин Никита Никитович", "Егоров Егор Егорович", "Михайлов Михаил Михайлович", "Олегов Олег Олегович" };
            string[] arrayPost = { "чел", "чел", "чел", "чел", "чел" };
            bool isActive = true;
            int userInput = 0;

            while (isActive)
            {
                Console.WriteLine(CommandAddDossier + " - Добавить досье\n" +
                    CommandDossierOutput + " - Вывести все досье\n" +
                    CommandRemoveDossier + " - Удалить досье\n" +
                    CommandSearchForSurname + " - Поиск по фамилии\n" +
                    CommandExit + " - Выход");
                userInput = Convert.ToInt32(Console.ReadLine());

                switch (userInput)
                {
                    case 1:
                        AddDossier(ref arraFullNames,ref arrayPost);
                        break;
                    case 2:
                        DossierOutput(arraFullNames, arrayPost);
                        break;
                    case 3:
                        RemoveDossier(ref arraFullNames, ref arrayPost);
                        break;
                    case 4:
                        SearchForSurname(ref arraFullNames,ref arrayPost);
                        break;
                    case 5:
                        isActive = false;
                        break;
                    default:
                        Console.Clear();
                        break;
                }
            }
        }
        static void AddDossier(ref string[] arraFullNames,ref string[] arrayPost)
        {
            Console.Clear();
            Console.WriteLine("Введите ФИО: ");
            string value = Console.ReadLine();
            string[] tempArray = new string[arraFullNames.Length + 1];

            for (int i = 0; i < arraFullNames.Length; i++)
            {
                tempArray[i] = arraFullNames[i];
            }
            tempArray[arraFullNames.Length] = value;
            arraFullNames = tempArray;
            Console.Clear();
            Console.WriteLine("Введите должность: ");
            value = Console.ReadLine();
            tempArray = new string[arrayPost.Length + 1];

            for (int i = 0; i < arrayPost.Length; i++)
            {
                tempArray[i] = arrayPost[i];
            }
            tempArray[arrayPost.Length] = value;
            arrayPost = tempArray;
            Console.WriteLine("Успешно добавлено");
            Console.ReadKey();
            Console.Clear();

        }
        static void DossierOutput(string[] arraFullNames, string[] arrayPost)
        {
            Console.Clear();

            for (int i = 0; i < arraFullNames.Length; i++)
            {
                Console.SetCursorPosition(0, i);
                Console.WriteLine((i + 1) + " - ");
                Console.SetCursorPosition(5, i);
                Console.WriteLine(arraFullNames[i]);
                Console.SetCursorPosition(39, i);
                Console.WriteLine(arrayPost[i]);
            }
            Console.ReadKey();
            Console.Clear();
        }
        static void RemoveDossier(ref string[] arraFullNames, ref string[] arrayPost)
        {
            Console.Clear();
            Console.WriteLine("Введите номер досье, которое нужно удалить: ");
            int index = Convert.ToInt32(Console.ReadLine()) - 1;
            string[] tempArray = new string[arraFullNames.Length - 1];

            for (int i = 0; i < index; i++)
            {
                tempArray[i] = arraFullNames[i];
            }
            for (int i = index + 1; i < arraFullNames.Length; i++)
            {
                tempArray[i - 1] = arraFullNames[i];
            }
            arraFullNames = tempArray;
            tempArray = new string[arrayPost.Length - 1];

            for (int i = 0; i < index; i++)
            {
                tempArray[i] = arrayPost[i];
            }
            for (int i = index + 1; i < arrayPost.Length; i++)
            {
                tempArray[i - 1] = arrayPost[i];
            }
            arrayPost = tempArray;
            Console.WriteLine("Успешно удалено");
            Console.ReadKey();
            Console.Clear();
        }

        static void SearchForSurname(ref string[] arraFullNames, ref string[] arrayPost)
        {
            Console.Clear();
            Console.WriteLine("Введите фамилию: ");
            string inputSurname = Console.ReadLine();
            Console.Clear();

            for (int i = 0; i < arraFullNames.Length; i++)
            {
                string[] splitNames = arraFullNames[i].Split(' ');

                foreach (string j in splitNames)
                {
                    if (j == inputSurname)
                    {
                        Console.SetCursorPosition(0, i);
                        Console.WriteLine((i + 1) + " - ");
                        Console.SetCursorPosition(5, i);
                        Console.WriteLine(arraFullNames[i]);
                        Console.SetCursorPosition(39, i);
                        Console.WriteLine(arrayPost[i]);
                    }
                }
            }
            Console.ReadKey();
            Console.Clear();
        }
    }
}
